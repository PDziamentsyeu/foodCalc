<div class="ui two column centered grid">
    <div class="six wide column">
        <h2>Sign up</h2>
        <form name="form" (ngSubmit)="register()" #signUpForm="ngForm" novalidate class="ui form">
            <div class="field" [ngClass]="{ 'has-error': email.touched && !email.valid }">
                <label for="">Email</label>
                <input type="email" class="form-control" name="email" [(ngModel)]="model.email" #email="ngModel"
                       required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"/>
                <div *ngIf="(email.touched || email.dirty) && !email.valid" class="ui pointing red basic label">
                <span *ngIf="email.errors['required']">
                  Email is required
                </span>
                    <span *ngIf="email.errors['pattern']">
                  Email is not valid
                 </span>
                </div>
            </div>
            <div class="field" [ngClass]="{ 'has-error': password.touched && !password.valid }">
                <label for="">Password</label>
                <input type="password" class="form-control" name="password" [(ngModel)]="model.password"
                       #password="ngModel" required validateEqual="confirmPassword" reverse="true"/>
                <div *ngIf="(password.touched || password.dirty) && !password.valid"
                     class="ui pointing red basic label">
                    <span *ngIf="password.errors['required']">
                      Password is required
                     </span>
                </div>
            </div>
            <div class="field" [ngClass]="{ 'has-error': confirmPassword.touched && !confirmPassword.valid }">
                <label for="">Repeat password</label>
                <input type="password" class="form-control" name="confirmPassword" required
                       [(ngModel)]="model.confirmPassword" #confirmPassword="ngModel" validateEqual="password"
                       reverse="false"/>
                <div *ngIf="(confirmPassword.touched || confirmPassword.dirty) && !confirmPassword.valid"
                     class="ui pointing red basic label">
                    <span *ngIf="confirmPassword.errors['required']">
                      Password is required
                    </span>
                    <span *ngIf="!confirmPassword.errors['required'] && confirmPassword.errors.validateEqual == false">
                      Passwords didn't match
                     </span>
                </div>
            </div>
            <div class="field">
                <button [disabled]="!signUpForm.valid" class="ui button">Register</button>
                <img *ngIf="loading"
                     src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="/>
                <a [routerLink]="['/home']" class="ui button">Cancel</a>
            </div>
        </form>
    </div>
</div>
